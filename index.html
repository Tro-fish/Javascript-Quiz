<!DOCTYPE html>
<html lang ="en">
    <head>
        <meta charset="utf-8">
        <title>Javascript quiz</title>
        <link rel ="stylesheet" type="text/css" href = "style.css">
    </head>
    <body>
        <!--first page-->
        <div id ="page1" >
           <div class = "quiz_name">Javascript Quiz</div>
           <!--go to next page-->
           <button onclick ="page1()" class = "button1"> Play!</button>
        </div>

        <!--second page-->
        <div id = "page2" class ="page_set" >     

            <div class = "main_name flex">
                <div id ="qnum2" class = "qusetion_text">Question 1/4</div>
                <div class = "score_text">Score</div>
            </div>
            <div class ="progress_margin">
                <!--quiz progress bar 25%-->
                <div class="progress-border" >  
                    <div id = 'page2_progress' class ="progress-bar" style="width: 25%;"></div> 
                </div>
                <!--quiz score-->
                <div id= "page2_score" class = "score"> 0 </div>
            </div>
            <div class="question_text">Purpose of designing the Javascript</div> 
            <div class = "question_box">
                <!--button to choose your answer-->
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">A</div></div>
                    <button onclick ="question1_1()" id = "question2_1" class ="question_body">To Perform Server Side Scripting Opertion</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">B</div></div>
                    <button onclick ="question1_2()" id = "question2_2" class ="question_body">To add interactivity to HTML Pages</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">C</div></div>
                    <button onclick ="question1_3()" id = "question2_3" class ="question_body">To Style HTML Pages</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">D</div></div>
                    <button onclick ="question1_4()" id = "question2_4" class ="question_body">All of the above</button>
                </div>
            </div> 
                  
        </div>

        <!--third page-->
       <div id = "page3" class ="page_set" >   

            <div class = "main_name flex">
                <div id ="qnum3" class = "qusetion_text">Question 2/4</div>
                <div class = "score_text">Score</div>
            </div>
            <div class ="progress_margin">
                <!--quiz progress bar 50%-->
                <div class="progress-border" >  
                    <div id = 'page3_progress' class ="progress-bar" style="width: 50%;"></div> 
                </div>
                <!--quiz score-->
                <div id= "page3_score" class = "score"> 0 </div>
            </div>
            <div class="question_text">Why so JavaScript and Java have <br>similar name?</div> 
            <div class = "question_box">
                <!--button to choose your answer-->
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">A</div></div>
                    <button onclick ="question2_1()" id = "question3_1" class ="question_body">They both originated on the island of Java</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">B</div></div>
                    <button onclick ="question2_2()" id = "question3_2" class ="question_body">JavaScript's syntax is loosely based on Java's</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">C</div></div>
                    <button onclick ="question2_3()" id = "question3_3" class ="question_body">Both A and B</button>
                </div>
                <div class ="flex">
                    <div class = "question_head"><div class = "question_number">D</div></div>
                    <button onclick ="question2_4()" id = "question3_4" class ="question_body">None of the above</button>
                </div>
            </div> 
                  
        </div>

        <!--fourth page-->
       <div id = "page4" class ="page_set">   

        <div class = "main_name flex">
            <div id ="qnum4" class = "qusetion_text">Question 3/4</div>
            <div class = "score_text">Score</div>
        </div>
        <div class ="progress_margin">
            <!--quiz progress bar 75%-->
            <div class="progress-border" >  
                <div id = 'page4_progress' class ="progress-bar" style="width: 75%;"></div> 
            </div>
            <!--quiz score-->
            <div id= "page4_score" class = "score"> 0 </div>
        </div>
        <div class="question_text">Original Name of Javascript is</div> 
        <div class = "question_box">
            <!--button to choose your answer-->
            <div class ="flex">
                <div class = "question_head"><div class = "question_number">A</div></div>
                <button onclick ="question3_1()" id = "question4_1" class ="question_body">Mocha</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">B</div></div>
                <button onclick ="question3_2()" id = "question4_2" class ="question_body">LiveScript</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">C</div></div>
                <button onclick ="question3_3()" id = "question4_3" class ="question_body">Escript</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">D</div></div>
                <button onclick ="question3_4()" id = "question4_4" class ="question_body">JavaScript</button>
            </div>
        </div> 
              
        </div>

        <!--fifth page-->
       <div id = "page5" class ="page_set">   

        <div class = "main_name flex">
            <div id ="qnum5" class = "qusetion_text">Question 4/4</div>
            <div class = "score_text">Score</div>
        </div>
        <div class ="progress_margin">
            <!--quiz progress bar 100%-->
            <div class="progress-border" >  
                <div id = 'page5_progress' class ="progress-bar" style="width: 100%;"></div> 
            </div>
            <!--quiz score-->
            <div id= "page5_score" class = "score"> 0 </div>
        </div>
        <div class="question_text">Which type of language is JavaScript</div> 
        <div class = "question_box">
            <!--button to choose your answer-->
            <div class ="flex">
                <div class = "question_head"><div class = "question_number">A</div></div>
                <button onclick ="question4_1()" id = "question5_1" class ="question_body">Programming</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">B</div></div>
                <button onclick ="question4_2()" id = "question5_2" class ="question_body">Scripting</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">C</div></div>
                <button onclick ="question4_3()" id = "question5_3" class ="question_body">Markup</button>
            </div>
            <div style="display: flex;">
                <div class = "question_head"><div class = "question_number">D</div></div>
                <button onclick ="question4_4()" id = "question5_4" class ="question_body">None of the above</button>
            </div>
        </div> 
              
        </div>



        <!--last page-->
        <div id = "page_end">
            <div style="display: flex; flex-direction: column; justify-content: center;">
            <div id="result" class = "quiz_name">Total Score : 2</div>         
            <button onclick ="restart()" class = "button1" > Play Again</button>
            </div>
        </div>


        <script>
            let score = 0;
            let question_number = 0;
            //1이면 출제된 문제 0이면 아직 출제 안된 문제
            let question_on =[0,0,0,0]
            let question_count = 0;

            function sleep (delay) {
            var start = new Date().getTime();
            while (new Date().getTime() < start + delay);}

            //열어야할 페이지 리턴해주기
            function page_change()
            {
                question_count++;
                //4문제가 나왔을 때는 게임 종료
                if(question_count > 4)
                {
                    document.getElementById("result").innerText = "Total Score : " +String(score);
                    return "page_end"
                }
                else
                {
                    while(1)
                    {
                        //2~5까지 랜덤으로 번호 생성
                        question_number = Math.floor(Math.random()*5)+2;
                        if(question_on[question_number-2] == 0)
                        {
                            break;
                        }
                    }
                    question_on[question_number-2] = 1;
                    let page_num = "page" + String(question_number);

                    //다음 페이지 정보 변경
                    let quest_num = "qnum" + String(question_number);
                    let progrss_num = page_num + "_progress";
                    let score_num = page_num + "_score";
                    console.log(score_num);
                    document.getElementById(quest_num).innerText ="Question "+(question_count)+"/4";
                    document.getElementById(progrss_num).style = ("width : " + String(question_count*25)+"%");
                    document.getElementById(score_num).innerText = score;  

                    return page_num;
                }
            }
            //다음 페이지의 점수, 문제 번호, 프로그래스바 변경
            function set_next(page_num)
            {
                let quest_num = "qnum" + String(page_num);
                let progrss_num = "page" + String(page_num) + "_progress";
                let score_num = "page" + String(page_num) + "_score";
                document.getElementById(quest_num).innerText ="Question "+(question_number)+"/4";
                document.getElementById(progrss_num).style = ("width : " + String(question_number*25)+"%");
                document.getElementById(score_num).innerText = score;  
            }   
            
             function page1()
             {                
                document.getElementById("page1").style ="display : none";                  
                document.getElementById(page_change()).style ="display : block";   
             }
             function question1_1()
             {
                document.getElementById("question2_1").style = "background : red";                              
                document.getElementById("page2_score").innerText = score;  
                let page_num = page_change();               
                setTimeout(() => document.getElementById("page2").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";                   
                
             }
             function question1_2()
             {
                document.getElementById("question2_2").style = "background : green";                              
                score++; document.getElementById("page2_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page2").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";                                
             } 
             function question1_3()
             {
                document.getElementById("question2_3").style = "background : red";                              
                document.getElementById("page2_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page2").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";    
                
             }
             function question1_4()
             {
                document.getElementById("question2_4").style = "background : red";                              
                document.getElementById("page2_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page2").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";                   
             }


             function question2_1()
             {
                document.getElementById("question3_1").style = "background : red";                              
                document.getElementById("page3_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page3").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";      
             }
             function question2_2()
             {
                document.getElementById("question3_2").style = "background : red";                              
                document.getElementById("page3_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page3").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";  
                
             }
             function question2_3()
             {
                document.getElementById("question3_3").style = "background : red";                              
                document.getElementById("page3_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page3").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block"; 
                
             }
             function question2_4()
             {
                document.getElementById("question3_4").style = "background : green";                              
                score++; document.getElementById("page3_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page3").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";   
                
             } 
             
             
             function question3_1()
             {
                document.getElementById("question4_1").style = "background : red";                              
                document.getElementById("page4_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page4").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";                   
             }
             function question3_2()
             {
                document.getElementById("question4_2").style = "background : red";                              
                document.getElementById("page4_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page4").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";    
                
             }
             function question3_3()
             {
                document.getElementById("question4_3").style = "background : red";                              
                document.getElementById("page4_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page4").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";     
                
             }
             function question3_4()
             {
                document.getElementById("question4_4").style = "background : green";                              
                score++; 
                document.getElementById("page4_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page4").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";      
                
             } 

             function question4_1()
             {
                document.getElementById("question5_1").style = "background : green";                              
                score++; 
                document.getElementById("page5_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page5").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";     
                
             }
             function question4_2()
             {
                document.getElementById("question5_2").style = "background : red";                              
                document.getElementById("page5_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page5").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";    
                
             }
             function question4_3()
             {
                document.getElementById("question5_3").style = "background : red";                              
                document.getElementById("page5_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page5").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";    
                
             }
             function question4_4()
             {
                document.getElementById("question5_4").style = "background : red";                              
                document.getElementById("page5_score").innerText = score;  
                let page_num = page_change();
                setTimeout(() => document.getElementById("page5").style ="display : none",1000);                  
                document.getElementById(page_num).style = "display : block";     
                
             } 

             function restart()
             {
                 score = 0;
                 document.getElementById("page_end").style ="display : none"
                 //question_number = (Math.random()*5)+1;
                 document.getElementById("page2").style = "display : block"; 
                 document.getElementById("page2_score").innerText = score;                   
                 let temp = "question";
                 //clear all color information
                 for(let i=2;i<=5;i++)
                 {                     
                     for(let k=1;k<=4;k++)
                     {
                         let re = temp + String(i)+"_"+String(k)
                        document.getElementById(re).style = "background : #ffffff";
                     }
                 }

             }


             
             
        </script>
    </body>
</html>